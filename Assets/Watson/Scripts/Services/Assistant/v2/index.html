<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>README</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<h1 id="assistant-v2">Assistant V2</h1>
<p>The IBM Watson™ <a href="https://console.bluemix.net/docs/services/assistant/index.html">Assistant</a> service combines machine learning, natural language understanding, and integrated dialog tools to create conversation flows between your apps and your users.</p>
<h2 id="usage">Usage</h2>
<p>You complete these steps to implement your application:</p>
<ul>
<li><p>Create an assistant.</p></li>
<li><p>Add skills to your assistant. Choose the appropriate skill set for each assistant that you want to build.</p>
<p>Note: Currently, you can add one conversational skill to the assistant.</p></li>
<li><p>Configure the skill. For a conversational skill, use the intuitive graphical tool to define the training data and dialog for the conversation between your assistant and your customers.</p>
<p>The training data consists of the following artifacts:</p>
<ul>
<li><p>Intents: Goals that you anticipate your users will have when they interact with the service. Define one intent for each goal that can be identified in a user’s input. For example, you might define an intent named store_hours that answers questions about store hours. For each intent, you add sample utterances that reflect the input customers might use to ask for the information they need, such as, What time do you open?</p>
<p>Or use prebuilt content catalogs provided by IBM to get started with data that addresses common customer goals.</p></li>
<li><p>Entities: An entity represents a term or object that provides context for an intent. For example, an entity might be a city name that helps your dialog to distinguish which store the user wants to know store hours for.</p>
<p>As you add training data, a natural language classifier is automatically added to the skill, and is trained to understand the types of requests that you have indicated the service should listen for and respond to.</p></li>
<li><p>Dialog: Use the dialog tool to build a dialog flow that incorporates your intents and entities. The dialog flow is represented graphically in the tool as a tree. You can add a branch to process each of the intents that you want the service to handle. You can then add branch nodes that handle the many possible permutations of a request based on other factors, such as the entities found in the user input or information that is passed to the service from an external service.</p></li>
</ul></li>
<li><p>Integrate your assistant. Create a channel integration to deploy the configured assistant directly to a social media or messaging channel.</p></li>
</ul>
<h4 id="create-session">Create session</h4>
<p>Create a new session. A session is used to send user input to a skill and receive responses. It also maintains the state of the conversation.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode cs"><code class="sourceCode cs"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="kw">private</span> <span class="dt">void</span> <span class="fu">Example</span>()</a>
<a class="sourceLine" id="cb1-2" data-line-number="2">{</a>
<a class="sourceLine" id="cb1-3" data-line-number="3">    _assistant.<span class="fu">CreateSession</span>(OnCreateSession, OnFail, assistantId);</a>
<a class="sourceLine" id="cb1-4" data-line-number="4">}</a>
<a class="sourceLine" id="cb1-5" data-line-number="5"></a>
<a class="sourceLine" id="cb1-6" data-line-number="6"><span class="kw">private</span> <span class="dt">void</span> <span class="fu">OnCreateSession</span>(SessionResponse response, Dictionary&lt;<span class="dt">string</span>, <span class="dt">object</span>&gt; customData)</a>
<a class="sourceLine" id="cb1-7" data-line-number="7">{</a>
<a class="sourceLine" id="cb1-8" data-line-number="8">    Log.<span class="fu">Debug</span>(<span class="st">&quot;ExampleAssistantV2.OnMessage()&quot;</span>, <span class="st">&quot;Assistant: Create Session Response: {0}&quot;</span>, customData[<span class="st">&quot;json&quot;</span>].<span class="fu">ToString</span>());</a>
<a class="sourceLine" id="cb1-9" data-line-number="9">}</a></code></pre></div>
<h4 id="delete-session">Delete Session</h4>
<p>Deletes a session explicitly before it times out.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode cs"><code class="sourceCode cs"><a class="sourceLine" id="cb2-1" data-line-number="1"><span class="kw">private</span> <span class="dt">void</span> <span class="fu">Example</span>()</a>
<a class="sourceLine" id="cb2-2" data-line-number="2">{</a>
<a class="sourceLine" id="cb2-3" data-line-number="3">    _assistant.<span class="fu">DeleteSession</span>(OnDeleteSession, OnFail, assistantId, sessionId);</a>
<a class="sourceLine" id="cb2-4" data-line-number="4">}</a>
<a class="sourceLine" id="cb2-5" data-line-number="5"></a>
<a class="sourceLine" id="cb2-6" data-line-number="6"><span class="kw">private</span> <span class="dt">void</span> <span class="fu">OnDeleteSession</span>(<span class="dt">object</span> response, Dictionary&lt;<span class="dt">string</span>, <span class="dt">object</span>&gt; customData)</a>
<a class="sourceLine" id="cb2-7" data-line-number="7">{</a>
<a class="sourceLine" id="cb2-8" data-line-number="8">    Log.<span class="fu">Debug</span>(<span class="st">&quot;ExampleAssistantV2.OnMessage()&quot;</span>, <span class="st">&quot;Assistant: Delete Session Response: {0}&quot;</span>, customData[<span class="st">&quot;json&quot;</span>].<span class="fu">ToString</span>());</a>
<a class="sourceLine" id="cb2-9" data-line-number="9">}</a></code></pre></div>
<h4 id="message">Message</h4>
<p>Send user input to an assistant and receive a response. There is no rate limit for this operation.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode cs"><code class="sourceCode cs"><a class="sourceLine" id="cb3-1" data-line-number="1"><span class="kw">private</span> <span class="dt">void</span> <span class="fu">Example</span>()</a>
<a class="sourceLine" id="cb3-2" data-line-number="2">{</a>
<a class="sourceLine" id="cb3-3" data-line-number="3">    MessageRequest messageRequest = <span class="kw">new</span> <span class="fu">MessageRequest</span>()</a>
<a class="sourceLine" id="cb3-4" data-line-number="4">    {</a>
<a class="sourceLine" id="cb3-5" data-line-number="5">        Input = <span class="kw">new</span> <span class="fu">MessageInput</span>()</a>
<a class="sourceLine" id="cb3-6" data-line-number="6">        {</a>
<a class="sourceLine" id="cb3-7" data-line-number="7">            Text = <span class="st">&quot;conversation text&quot;</span></a>
<a class="sourceLine" id="cb3-8" data-line-number="8">        }</a>
<a class="sourceLine" id="cb3-9" data-line-number="9">    };</a>
<a class="sourceLine" id="cb3-10" data-line-number="10"></a>
<a class="sourceLine" id="cb3-11" data-line-number="11">    _assistant.<span class="fu">Message</span>(OnMessage, OnFail, assistantId, sessionId, messageRequest);</a>
<a class="sourceLine" id="cb3-12" data-line-number="12">}</a>
<a class="sourceLine" id="cb3-13" data-line-number="13"></a>
<a class="sourceLine" id="cb3-14" data-line-number="14"><span class="kw">private</span> <span class="dt">void</span> <span class="fu">OnMessage</span>(MessageResponse response, Dictionary&lt;<span class="dt">string</span>, <span class="dt">object</span>&gt; customData)</a>
<a class="sourceLine" id="cb3-15" data-line-number="15">{</a>
<a class="sourceLine" id="cb3-16" data-line-number="16">    Log.<span class="fu">Debug</span>(<span class="st">&quot;ExampleAssistantV2.OnMessage()&quot;</span>, <span class="st">&quot;Assistant: Message Response: {0}&quot;</span>, customData[<span class="st">&quot;json&quot;</span>].<span class="fu">ToString</span>());    </a>
<a class="sourceLine" id="cb3-17" data-line-number="17">}</a></code></pre></div>
</body>
</html>
